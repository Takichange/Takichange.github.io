<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React | K-BOlG</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="个人博客，学习踩坑记录">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/1.styles.bd172a24.css" as="style"><link rel="preload" href="/assets/js/app.276c1dfb.js" as="script"><link rel="preload" href="/assets/js/11.c37d6593.js" as="script"><link rel="preload" href="/assets/js/33.aa0d455c.js" as="script">
    <link rel="stylesheet" href="/assets/css/1.styles.bd172a24.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="K-BOlG" class="logo"> <span class="site-name can-hide">K-BOlG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/pages/1d1b92/" class="nav-link">Http</a></li><li class="dropdown-item"><!----> <a href="/pages/43a79d/" class="nav-link">Ajax</a></li><li class="dropdown-item"><!----> <a href="/pages/079821/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/pages/934d6e/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/pages/2135b2/" class="nav-link">Axios</a></li><li class="dropdown-item"><!----> <a href="/pages/06c08b/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/pages/df6335/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/pages/eb18b6/" aria-current="page" class="nav-link router-link-exact-active router-link-active">React</a></li><li class="dropdown-item"><!----> <a href="/pages/5e3b2f/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/bdbd49/" class="nav-link">Uni-app</a></li><li class="dropdown-item"><!----> <a href="/pages/01a636/" class="nav-link">性能优化</a></li><li class="dropdown-item"><!----> <a href="/pages/3b5bc6/" class="nav-link">移动端</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/skill/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/skill/" class="nav-link">技术</a></li><li class="dropdown-item"><!----> <a href="/pages/f2223/" class="nav-link">Vue3入门</a></li><li class="dropdown-item"><!----> <a href="/pages/fb23314/" class="nav-link">TypeScript入门</a></li><li class="dropdown-item"><!----> <a href="/pages/9d8967/" class="nav-link">Jenkins-Nginx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="UI" class="dropdown-title"><a href="/UI/" class="link-title">UI</a> <span class="title" style="display:none;">UI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UI/" class="nav-link">UI</a></li><li class="dropdown-item"><!----> <a href="/pages/43a79122/" class="nav-link">文本超出隐藏解决</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/collect/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/collect/" class="nav-link">收藏</a></li><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">实用网站</a></li><li class="dropdown-item"><!----> <a href="/pages/eee83a9211a70f9d/" class="nav-link">资源库</a></li><li class="dropdown-item"><!----> <a href="/pages/12df8ace52d493f6/" class="nav-link">Vue专区</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="随笔" class="dropdown-title"><a href="/pages/fb2914/" class="link-title">随笔</a> <span class="title" style="display:none;">随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fb2914/" class="nav-link">你知道的越多，不知道的也就越多</a></li><li class="dropdown-item"><!----> <a href="/pages/cd8bde/" class="nav-link">拥抱生活，拥抱快乐</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/Takichange" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/assets/img/the-joke.png"> <div class="blogger-info"><h3>nengkai</h3> <span>大道至简-知易行难</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/pages/1d1b92/" class="nav-link">Http</a></li><li class="dropdown-item"><!----> <a href="/pages/43a79d/" class="nav-link">Ajax</a></li><li class="dropdown-item"><!----> <a href="/pages/079821/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/pages/934d6e/" class="nav-link">MongoDB</a></li><li class="dropdown-item"><!----> <a href="/pages/2135b2/" class="nav-link">Axios</a></li><li class="dropdown-item"><!----> <a href="/pages/06c08b/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/pages/df6335/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/pages/eb18b6/" aria-current="page" class="nav-link router-link-exact-active router-link-active">React</a></li><li class="dropdown-item"><!----> <a href="/pages/5e3b2f/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/bdbd49/" class="nav-link">Uni-app</a></li><li class="dropdown-item"><!----> <a href="/pages/01a636/" class="nav-link">性能优化</a></li><li class="dropdown-item"><!----> <a href="/pages/3b5bc6/" class="nav-link">移动端</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/skill/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/skill/" class="nav-link">技术</a></li><li class="dropdown-item"><!----> <a href="/pages/f2223/" class="nav-link">Vue3入门</a></li><li class="dropdown-item"><!----> <a href="/pages/fb23314/" class="nav-link">TypeScript入门</a></li><li class="dropdown-item"><!----> <a href="/pages/9d8967/" class="nav-link">Jenkins-Nginx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="UI" class="dropdown-title"><a href="/UI/" class="link-title">UI</a> <span class="title" style="display:none;">UI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/UI/" class="nav-link">UI</a></li><li class="dropdown-item"><!----> <a href="/pages/43a79122/" class="nav-link">文本超出隐藏解决</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/collect/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/collect/" class="nav-link">收藏</a></li><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">实用网站</a></li><li class="dropdown-item"><!----> <a href="/pages/eee83a9211a70f9d/" class="nav-link">资源库</a></li><li class="dropdown-item"><!----> <a href="/pages/12df8ace52d493f6/" class="nav-link">Vue专区</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="随笔" class="dropdown-title"><a href="/pages/fb2914/" class="link-title">随笔</a> <span class="title" style="display:none;">随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fb2914/" class="nav-link">你知道的越多，不知道的也就越多</a></li><li class="dropdown-item"><!----> <a href="/pages/cd8bde/" class="nav-link">拥抱生活，拥抱快乐</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/Takichange" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>目录页</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Http</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Ajax</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>MongoDB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Axios</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/eb18b6/" aria-current="page" class="active sidebar-link">React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_1-1-react的基本认识" class="sidebar-link">1.1. React的基本认识</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_1-2-react的基本使用" class="sidebar-link">1.2. React的基本使用</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_1-3-jsx的理解和使用" class="sidebar-link">1.3. JSX的理解和使用</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_1-4概念理解" class="sidebar-link">1.4概念理解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_1-模块与组件" class="sidebar-link">1). 模块与组件</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_2-模块化与组件化" class="sidebar-link">2). 模块化与组件化</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-1-基本理解和使用" class="sidebar-link">2.1. 基本理解和使用</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-2-组件的3大属性-state" class="sidebar-link">2.2. 组件的3大属性: state</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-2-组件的3大属性-props" class="sidebar-link">2.2. 组件的3大属性: props</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-2-组件的3大属性-refs" class="sidebar-link">2.2. 组件的3大属性: refs</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-3-组件中的事件处理" class="sidebar-link">2.3. 组件中的事件处理</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-4-组件的组合使用" class="sidebar-link">2.4. 组件的组合使用</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-5-组件收集表单数据" class="sidebar-link">2.5. 组件收集表单数据</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-6-组件的生命周期-旧" class="sidebar-link">2.6. 组件的生命周期（旧）</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-7组件的生命周期-新" class="sidebar-link">2.7组件的生命周期（新）</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_2-7-虚拟dom与dom-diff算法" class="sidebar-link">2.7. 虚拟DOM与DOM diff算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_1-虚拟dom是什么" class="sidebar-link">1). 虚拟DOM是什么?</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_2-虚拟dom-算法的基本步骤" class="sidebar-link">2). 虚拟DOM 算法的基本步骤</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_3-进一步理解" class="sidebar-link">3). 进一步理解</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_3-1-使用create-react-app创建react应用" class="sidebar-link">3.1. 使用create-react-app创建react应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_3-1-1-react脚手架" class="sidebar-link">3.1.1. react脚手架</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_3-1-2-创建项目并启动" class="sidebar-link">3.1.2. 创建项目并启动</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_3-1-3-react脚手架项目结构" class="sidebar-link">3.1.3. react脚手架项目结构</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_4-1-理解" class="sidebar-link">4.1. 理解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_4-1-1-前置说明" class="sidebar-link">4.1.1. 前置说明</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_4-1-2-常用的ajax请求库" class="sidebar-link">4.1.2. 常用的ajax请求库</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_4-1-3-效果" class="sidebar-link">4.1.3. 效果</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_4-2-axios" class="sidebar-link">4.2. axios</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_4-2-1-文档" class="sidebar-link">4.2.1. 文档</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_4-2-2-相关api" class="sidebar-link">4.2.2. 相关API</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_4-3-fetch" class="sidebar-link">4.3. Fetch</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_4-3-1-文档" class="sidebar-link">4.3.1. 文档</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_4-3-2-相关api" class="sidebar-link">4.3.2. 相关API</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_5-1-组件间通信" class="sidebar-link">5.1. 组件间通信</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_5-1-1-方式一-通过props传递" class="sidebar-link">5.1.1. 方式一: 通过props传递</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_5-1-2-方式二-使用消息订阅-subscribe-发布-publish-机制" class="sidebar-link">5.1.2. 方式二: 使用消息订阅(subscribe)-发布(publish)机制</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_5-1-3-方式三-redux" class="sidebar-link">5.1.3. 方式三: redux</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_5-1-4-面试题-比较react中组件间3种通信方式" class="sidebar-link">5.1.4. 面试题: 比较react中组件间3种通信方式</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_5-2-事件监听理解" class="sidebar-link">5.2. 事件监听理解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_5-2-1-原生dom事件" class="sidebar-link">5.2.1. 原生DOM事件</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_5-2-2-自定义事件-消息机制" class="sidebar-link">5.2.2. 自定义事件(消息机制)</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_5-3-es6常用新语法" class="sidebar-link">5.3. ES6常用新语法</a></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_6-1-相关理解" class="sidebar-link">6.1. 相关理解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-1-1-react-router-dom的理解" class="sidebar-link">6.1.1. react-router-dom的理解</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-1-2-spa的理解" class="sidebar-link">6.1.2. SPA的理解</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-1-3-路由的理解" class="sidebar-link">6.1.3. 路由的理解</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-1-4-前端路由的实现" class="sidebar-link">6.1.4. 前端路由的实现</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_6-2-react-router相关api" class="sidebar-link">6.2. react-router相关API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-2-1-组件" class="sidebar-link">6.2.1. 组件</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-2-2-其它" class="sidebar-link">6.2.2. 其它</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_6-3-基本路由使用" class="sidebar-link">6.3. 基本路由使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-3-1-准备" class="sidebar-link">6.3.1. 准备</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-3-2-路由组件-pages-about-jsx" class="sidebar-link">6.3.2. 路由组件: pages/about.jsx</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-3-3-路由组件-pages-home-jsx" class="sidebar-link">6.3.3. 路由组件: pages/home.jsx</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-3-4-browserrouter" class="sidebar-link">6.3.4.BrowserRouter</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-3-5-应用组件-app-jsx" class="sidebar-link">6.3.5. 应用组件:app.jsx</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-3-6-自定义样式-index-css" class="sidebar-link">6.3.6. 自定义样式: index.css</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_6-4-嵌套路由使用" class="sidebar-link">6.4. 嵌套路由使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-4-2-二级路由组件-pages-news-jsx" class="sidebar-link">6.4.2. 二级路由组件: pages/news.jsx</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-4-3-二级路由组件-pages-message-jsx" class="sidebar-link">6.4.3. 二级路由组件: pages/message.jsx</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-4-4-一级路由组件-pages-home-jsx" class="sidebar-link">6.4.4. 一级路由组件: pages/home.jsx</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_6-5-向路由组件传递参数数据" class="sidebar-link">6.5. 向路由组件传递参数数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-5-1-三级路由组件-pages-home-message-detail-jsx" class="sidebar-link">6.5.1. 三级路由组件: pages/home-message-detail.jsx</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-5-2-二级路由组件-pages-home-message-jsx" class="sidebar-link">6.5.2. 二级路由组件: pages/home-message.jsx</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_6-6-多种路由跳转方式" class="sidebar-link">6.6. 多种路由跳转方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_6-6-1-二级路由-views-message-jsx" class="sidebar-link">6.6.1. 二级路由: views/message.jsx</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_7-1-最流行的开源react-ui组件库" class="sidebar-link">7.1. 最流行的开源React UI组件库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_7-1-1-material-ui-国外" class="sidebar-link">7.1.1. material-ui(国外)</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_7-1-2-ant-design-国内蚂蚁金服" class="sidebar-link">7.1.2. ant-design(国内蚂蚁金服)</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_7-2-ant-design使用入门" class="sidebar-link">7.2. ant-design使用入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_1-引入antd" class="sidebar-link">1.引入antd</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_2-下载组件库包" class="sidebar-link">2.下载组件库包</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_3-实现组件的按需打包" class="sidebar-link">3.实现组件的按需打包</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_4-自定义antd主题" class="sidebar-link">4. 自定义antd主题</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_5-在应用组件中使用antd" class="sidebar-link">5.在应用组件中使用antd</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_8-1-redux理解" class="sidebar-link">8.1. redux理解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-1-1-学习文档" class="sidebar-link">8.1.1. 学习文档</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-1-2-redux是什么" class="sidebar-link">8.1.2. redux是什么?</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-1-3-什么情况下需要使用redux" class="sidebar-link">8.1.3. 什么情况下需要使用redux</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_8-2-redux的核心api" class="sidebar-link">8.2. redux的核心API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-2-1-createstore" class="sidebar-link">8.2.1. createStore()</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-2-2-store对象" class="sidebar-link">8.2.2. store对象</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-2-3-applymiddleware" class="sidebar-link">8.2.3. applyMiddleware()</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-2-4-combinereducers" class="sidebar-link">8.2.4. combineReducers()</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_8-3-redux的三个核心概念" class="sidebar-link">8.3. redux的三个核心概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-3-1-action" class="sidebar-link">8.3.1. action</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-3-2-reducer" class="sidebar-link">8.3.2. reducer</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-3-3-store" class="sidebar-link">8.3.3. store</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_8-4-使用redux编写应用" class="sidebar-link">8.4. 使用redux编写应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-4-1-效果" class="sidebar-link">8.4.1. 效果</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-4-2-下载依赖包" class="sidebar-link">8.4.2. 下载依赖包</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-4-3-redux-action-types-js" class="sidebar-link">8.4.3. redux/action_types.js</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-4-4-redux-actions-creators-js" class="sidebar-link">8.4.4. redux/actions_creators.js</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-4-5-redux-reducers-js" class="sidebar-link">8.4.5. redux/reducers.js</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-4-6-components-app-jsx" class="sidebar-link">8.4.6. components/app.jsx</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-4-7-store-js" class="sidebar-link">8.4.7. store.js</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-4-8-问题" class="sidebar-link">8.4.8. 问题</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_8-5-react-redux" class="sidebar-link">8.5. react-redux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-5-1-理解" class="sidebar-link">8.5.1. 理解</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-5-2-react-redux将所有组件分成两大类" class="sidebar-link">8.5.2. React-Redux将所有组件分成两大类</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-5-3-相关api" class="sidebar-link">8.5.3. 相关API</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-5-4-使用react-redux" class="sidebar-link">8.5.4. 使用react-redux</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-5-5-问题" class="sidebar-link">8.5.5. 问题</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_8-6-redux异步编程" class="sidebar-link">8.6. redux异步编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-6-1-下载redux插件-异步中间件" class="sidebar-link">8.6.1. 下载redux插件(异步中间件)</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-6-2-store-js" class="sidebar-link">8.6.2. store.js</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-6-3-redux-actions-js" class="sidebar-link">8.6.3. redux/actions.js</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-6-4-components-counter-jsx" class="sidebar-link">8.6.4. components/counter.jsx</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-6-5-containers-app-jsx" class="sidebar-link">8.6.5. containers/app.jsx</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_8-7-使用上redux调试工具" class="sidebar-link">8.7. 使用上redux调试工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-7-1-安装chrome浏览器插件" class="sidebar-link">8.7.1. 安装chrome浏览器插件</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-7-2-下载工具依赖包" class="sidebar-link">8.7.2. 下载工具依赖包</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-7-3-编码" class="sidebar-link">8.7.3. 编码</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/eb18b6/#_8-8-相关重要知识-纯函数和高阶函数" class="sidebar-link">8.8. 相关重要知识: 纯函数和高阶函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-8-1-纯函数" class="sidebar-link">8.8.1. 纯函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/eb18b6/#_8-8-2-高阶函数" class="sidebar-link">8.8.2. 高阶函数</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Uni-app</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>移动端</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>UI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>收藏</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>随笔</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>关于</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1baff76c><div class="articleInfo" data-v-1baff76c><ul class="breadcrumbs" data-v-1baff76c><li data-v-1baff76c><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1baff76c></a></li> <li data-v-1baff76c><a href="/categories/?category=views" title="分类" data-v-1baff76c>views</a></li><li data-v-1baff76c><a href="/categories/?category=%E5%89%8D%E7%AB%AF" title="分类" data-v-1baff76c>前端</a></li><li data-v-1baff76c><a href="/categories/?category=React" title="分类" data-v-1baff76c>React</a></li></ul> <div class="info" data-v-1baff76c><div title="作者" class="author iconfont icon-touxiang" data-v-1baff76c><a href="https://takichange-github-io.vercel.app/" target="_blank" title="作者" class="beLink" data-v-1baff76c>nengkai</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>2022-05-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">React<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="第一章-react入门"><a href="#第一章-react入门" class="header-anchor">#</a> 第一章. React 入门</h1> <h2 id="_1-1-react的基本认识"><a href="#_1-1-react的基本认识" class="header-anchor">#</a> 1.1. React 的基本认识</h2> <div class="language- extra-class"><pre><code>1). Facebook开源的一个js库
2). 一个用来动态构建用户界面的js库
3). React的特点
	Declarative(声明式编码)
	Component-Based(组件化编码)
	Learn Once, Write Anywhere(支持客户端与服务器渲染)
	高效
	单向数据流
4). React高效的原因
	虚拟(virtual)DOM, 不总是直接操作DOM(批量更新, 减少更新的次数) 
	高效的DOM Diff算法, 最小化页面重绘(减小页面更新的区域)
	One Dark Pro
	Auto Rename Tag
	Bracket Pair Colorizer 2
</code></pre></div><h2 id="_1-2-react的基本使用"><a href="#_1-2-react的基本使用" class="header-anchor">#</a> 1.2. React 的基本使用</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">导入相关js库文件</span><span class="token punctuation">(</span>react<span class="token punctuation">.</span>js<span class="token punctuation">,</span> react<span class="token operator">-</span>dom<span class="token punctuation">.</span>js<span class="token punctuation">,</span> babel<span class="token punctuation">.</span>min<span class="token punctuation">.</span>js<span class="token punctuation">)</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 编码<span class="token operator">:</span>
	<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
    <span class="token keyword">let</span> vDom <span class="token operator">=</span> <span class="token string">'hello'</span>  
    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>vDom<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_1-3-jsx的理解和使用"><a href="#_1-3-jsx的理解和使用" class="header-anchor">#</a> 1.3. JSX 的理解和使用</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 理解
	<span class="token operator">*</span> 全称<span class="token operator">:</span> JavaScript <span class="token constant">XML</span>
	<span class="token operator">*</span> react定义的一种类似于<span class="token constant">XML</span>的<span class="token constant">JS</span><span class="token literal-property property">扩展语法</span><span class="token operator">:</span> <span class="token constant">XML</span><span class="token operator">+</span><span class="token constant">JS</span>
	<span class="token operator">*</span> 作用<span class="token operator">:</span> 用来创建react虚拟<span class="token constant">DOM</span><span class="token punctuation">(</span>元素<span class="token punctuation">)</span>对象
<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 编码相关
  	<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
	<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/babel&quot;</span><span class="token operator">&gt;</span>		<span class="token comment">//类型为text/babel</span>
    <span class="token keyword">let</span> myID <span class="token operator">=</span> <span class="token string">'id'</span>
    <span class="token keyword">let</span> myData <span class="token operator">=</span> <span class="token string">'hello,world'</span>
    <span class="token comment">//1.创建虚拟DOM</span>
    <span class="token keyword">let</span> vDOM2 <span class="token operator">=</span> <span class="token operator">&lt;</span>h2 id<span class="token operator">=</span><span class="token punctuation">{</span>myID<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>myData<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token comment">//2.渲染虚拟DOM到页面</span>
    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>vDOM2<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 注意<span class="token operator">:</span>
		<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>标签的<span class="token keyword">class</span><span class="token function">属性必须改为className属性</span>
        <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token function">必须要有根标签</span>
        <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>标签中js语法用<span class="token punctuation">{</span><span class="token punctuation">}</span>包起来，<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token function">中的js必须是表达式</span>
     	<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token function">标签必须有结束</span>
		<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>标签的style属性值必须为<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token literal-property property">width</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_1-4概念理解"><a href="#_1-4概念理解" class="header-anchor">#</a> 1.4 概念理解</h2> <h3 id="_1-模块与组件"><a href="#_1-模块与组件" class="header-anchor">#</a> 1). 模块与组件</h3> <div class="language- extra-class"><pre><code>1. 模块:
  	理解: 向外提供特定功能的js程序, 一般就是一个js文件
  	为什么: js代码更多更复杂
  	作用: 复用js, 简化js的编写, 提高js运行效率
2. 组件: 
	理解: 用来实现特定界面功能效果的代码集合(html/css/js/img)
 	为什么: 一个界面的功能太复杂了
  	作用: 复用编码, 简化项目界面编码, 提高运行效率
</code></pre></div><h3 id="_2-模块化与组件化"><a href="#_2-模块化与组件化" class="header-anchor">#</a> 2). 模块化与组件化</h3> <div class="language- extra-class"><pre><code>1. 模块化:
	当应用的js都以模块来编写的, 这个应用就是一个模块化的应用
2. 组件化:
	当应用是以多组件的方式实现功能, 这上应用就是一个组件化的应用
</code></pre></div><h1 id="第二章-react组件化开发"><a href="#第二章-react组件化开发" class="header-anchor">#</a> 第二章. react 组件化开发</h1> <h2 id="_2-1-基本理解和使用"><a href="#_2-1-基本理解和使用" class="header-anchor">#</a> 2.1. 基本理解和使用</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//组件名首字母必须大写</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 创建组件类
	<span class="token comment">//方式1: 工厂函数(简单组件, 推荐使用)</span>
	<span class="token keyword">function</span> <span class="token function">MyComponent1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>工厂函数<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//方式2: ES6类语法(复杂组件, 推荐使用)</span>
	<span class="token keyword">class</span> <span class="token class-name">MyComponent2</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
		<span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token constant">ES6</span>类语法<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 渲染组件标签
	ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>MyComponent1<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>MyComponent2<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_2-2-组件的3大属性-state"><a href="#_2-2-组件的3大属性-state" class="header-anchor">#</a> 2.2. 组件的 3 大属性: state</h2> <p>（所有属性针对的是组件实例对象）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1.</span> 组件被称为<span class="token string">&quot;状态机&quot;</span><span class="token punctuation">,</span> 页面的显示是根据组件的state属性的数据来显示
<span class="token number">2.</span> <span class="token literal-property property">初始化指定</span><span class="token operator">:</span>
    state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">isPig</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span>		<span class="token comment">//state以键值对的形式存放数据</span>
<span class="token number">3.</span> <span class="token literal-property property">读取显示</span><span class="token operator">:</span> 
    <span class="token keyword">let</span> <span class="token punctuation">{</span>isPig<span class="token punctuation">}</span><span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>state		<span class="token comment">//结构赋值形式取state值</span>
<span class="token number">4.</span> 更新状态<span class="token operator">--</span><span class="token operator">&gt;</span>更新界面 <span class="token operator">:</span> 
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">isPig</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span>	<span class="token comment">//以键值对形式</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>实例代码</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
        state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">isP</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function-variable function">demo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>	<span class="token comment">//自定义的方法必须用馒头函数，可以解决this问题</span>
          <span class="token keyword">let</span> isP <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isP<span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isP <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//state不能直接更新，通过setState更新</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> <span class="token punctuation">{</span> isP <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
            <span class="token comment">//React中的事件名需要大写,需要用this</span>
          <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1 onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">}</span><span class="token operator">&gt;</span>你是<span class="token punctuation">{</span>isP <span class="token operator">?</span> <span class="token string">&quot;人&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;猪&quot;</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
      <span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>注意事项</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1.state中的数据不能直接修改</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state	<span class="token comment">//错误做法</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>		<span class="token comment">//正确</span>
<span class="token comment">//2.如果state中的数据是对象类型，不能直接更新状态</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>comment<span class="token punctuation">}</span><span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>state	<span class="token comment">//错误，修改了原数组中对象</span>
<span class="token keyword">let</span> comment<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>comment<span class="token punctuation">]</span>		<span class="token comment">//正确，使用es8的...运算符，创建了一个新的数组</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_2-2-组件的3大属性-props"><a href="#_2-2-组件的3大属性-props" class="header-anchor">#</a> 2.2. 组件的 3 大属性: props</h2> <div class="language- extra-class"><pre><code>所有组件标签的属性的集合对象
给标签指定属性, 保存外部数据(可能是一个function)
在组件内部读取属性: this.props.propertyName
作用: 从目标组件外部向组件内部传递数据
对props中的属性值进行类型限制和必要性限制
	Person.propTypes = {
		name: React.PropTypes.string.isRequired,
		age: React.PropTypes.number.isRequired
	}
扩展属性: 将对象的所有属性通过props传递

    &lt;Person {...person}/&gt;
</code></pre></div><p>实例对象</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token comment">//类里面的方法一旦加上static关键字，该方法只能有类本身调用，类的实例对象不能使用。</span>
    <span class="token comment">//限制接收参数的类型以及必要性</span>
    <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
      <span class="token literal-property property">sex</span><span class="token operator">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span>PropTypes<span class="token punctuation">.</span>number
    <span class="token punctuation">}</span>
    <span class="token comment">//设置参数的默认值</span>
    <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//重写父类的render方法</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>姓名：<span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>性别：<span class="token punctuation">{</span>age<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>年龄：<span class="token punctuation">{</span>sex<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  
  <span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'张三'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">'男'</span>
  <span class="token punctuation">}</span>

 
  <span class="token comment">//2.渲染组件标签,利用react内部的...obj属性获取组件</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person <span class="token punctuation">{</span><span class="token operator">...</span>p2<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'example2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>组件中的 props</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//定义状态</span>
state<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token literal-property property">comment</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&quot;ggttjjja&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">content</span><span class="token operator">:</span><span class="token string">&quot;简单&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&quot;dddghhja&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">content</span><span class="token operator">:</span><span class="token string">&quot;不难&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&quot;dsadwt03&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">comment</span><span class="token operator">:</span><span class="token string">&quot;so easy&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token comment">//List传参</span>
<span class="token operator">&lt;</span>List comment<span class="token operator">=</span><span class="token punctuation">{</span>comment<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">//接收参数</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> comment <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_2-2-组件的3大属性-refs"><a href="#_2-2-组件的3大属性-refs" class="header-anchor">#</a> 2.2. 组件的 3 大属性: refs</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">作用</span><span class="token operator">:</span> 找到组件内部的真实dom元素对象<span class="token punctuation">,</span> 进而操作它
三种使用方式
	方式一：ref<span class="token operator">=</span><span class="token string">&quot;input1&quot;</span>  <span class="token comment">//字符串形式</span>
	方式二：ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">input</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>input1 <span class="token operator">=</span> input<span class="token punctuation">}</span><span class="token comment">//回调函数形式</span>
	方式三：myRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//创建一个ref容器形式</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>示例代码：方式一</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">UserInput</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">handlerClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">//通过ref获取DOM</span>
          <span class="token keyword">let</span> <span class="token punctuation">{</span> input1 <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span>input1<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
              <span class="token comment">//方式一：</span>
              <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;input1&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span>
              <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handlerClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>弹出数据<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>UserInput <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;example&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>方式二</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">UserInput</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">handlerClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">//通过ref获取DOM</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>input1<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
              <span class="token punctuation">{</span><span class="token comment">/* 方式二 inptu为形参，自定义，inptut1为方法名 */</span><span class="token punctuation">}</span>
              <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>input1 <span class="token operator">=</span> input<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handlerClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>弹出数据<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>UserInput <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;example&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>方式三</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">class</span> <span class="token class-name">UserInput</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
        <span class="token comment">//方式三：创建一个ref容器</span>
        <span class="token comment">//这个容器是一个“专用容器”，只能保存一个元素</span>
        myRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function-variable function">handlerClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">//通过ref获取DOM,需要通过current属性获取value</span>
          <span class="token keyword">let</span> <span class="token punctuation">{</span> current <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
              <span class="token punctuation">{</span><span class="token comment">/*将当前元素放入组件对象身上的myRef容器中*/</span><span class="token punctuation">}</span>
              <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handlerClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>弹出数据<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>UserInput <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;example&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="_2-3-组件中的事件处理"><a href="#_2-3-组件中的事件处理" class="header-anchor">#</a> 2.3. 组件中的事件处理</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1.</span> <span class="token literal-property property">给标签添加属性</span><span class="token operator">:</span> onXxx<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>eventHandler<span class="token punctuation">}</span>
<span class="token number">2.</span> 在组件中添加事件处理方法
    <span class="token function-variable function">eventHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                
    <span class="token punctuation">}</span>
<span class="token number">3.</span> 使自定义方法中的<span class="token keyword">this</span>为组件对象
  	<span class="token function">在constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">中bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  	使用箭头函数定义方法
<span class="token number">4.</span> 事件监听
	绑定事件监听
		事件名
		回调函数
	触发事件
		用户对对应的界面做对应的操作
		编码
 <span class="token number">5.</span>注意：在调用函数是需要传参时要放在函数里面
 onXxx<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">eventHandler</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
 <span class="token function-variable function">eventHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="_2-4-组件的组合使用"><a href="#_2-4-组件的组合使用" class="header-anchor">#</a> 2.4. 组件的组合使用</h2> <div class="language- extra-class"><pre><code>1)拆分组件: 拆分界面,抽取组件
2)实现静态组件: 使用组件实现静态页面效果
3)实现动态组件
	①　动态显示初始化数据
	②　交互功能(从绑定事件监听开始)
</code></pre></div><h2 id="_2-5-组件收集表单数据"><a href="#_2-5-组件收集表单数据" class="header-anchor">#</a> 2.5. 组件收集表单数据</h2> <div class="language- extra-class"><pre><code>受控组件: 输入过程中自动收集数据到state
非受控组件: 提交时手动读取数据
</code></pre></div><h2 id="_2-6-组件的生命周期-旧"><a href="#_2-6-组件的生命周期-旧" class="header-anchor">#</a> 2.6. 组件的生命周期（旧）</h2> <div class="language- extra-class"><pre><code>1. 组件的三个生命周期状态:
	Mount：插入真实 DOM
	Update：被重新渲染
	Unmount：被移出真实 DOM
2. 生命周期流程:
	* 第一次初始化显示: ReactDOM.render(&lt;Xxx/&gt;, containDom)
		constructor()
		componentWillMount() : 将要插入回调
		render() : 用于插入虚拟DOM回调
		componentDidMount() : 已经插入回调
	* 每次更新state: this.setState({})
	    componentWillReceiveProps(): 接收父组件新的属性
	    componentWillUpdate() : 将要更新回调
	    render() : 更新(重新渲染)
	    componentDidUpdate() : 已经更新回调
	* 删除组件: ReactDOM.unmountComponentAtNode(div): 移除组件
		componentWillUnmount() : 组件将要被移除回调
3. 常用的方法
  	componentDidMount() : 只执行一次, 已经在dom树中, 适合启动/设置一些监听
  	componentWillUnmount()：适合做收尾工作，清楚定时器/关闭数据库/关闭流
</code></pre></div><h2 id="_2-7组件的生命周期-新"><a href="#_2-7组件的生命周期-新" class="header-anchor">#</a> 2.7 组件的生命周期（新）</h2> <ol><li><div class="language- extra-class"><pre><code>组件的三个生命周期状态:
</code></pre></div></li></ol> <p>* 初始化阶段：第一次渲染，插入真实 DOM</p> <p>* 更新阶段：重新渲染</p> <p>* 卸载阶段：被移出真实 DOM</p> <ol start="2"><li>生命周期流程:</li></ol> <p>a.     初始化阶段：由 ReactDOM.render () 触发</p> <p>* constructor()</p> <p>* static getDerivedStateFromProps()</p> <p>* render()</p> <p>* componentDidMount()</p> <p>b.     更新阶段 由组件内部 this.setSate () 或父组件重新 render 触发</p> <p>* static getDerivedStateFromProps()</p> <p>* shouldComponentUpdate()</p> <p>* render()</p> <p>* getSnapshotBeforeUpdate()</p> <p>* componentDidUpdate()</p> <p>c.     移除组件：由 ReactDOM.unmountComponentAtNode (containerDom) 触发</p> <p>* componentWillUnmount()</p> <p><strong>重要的勾子</strong></p> <ol><li><div class="language- extra-class"><pre><code>render(): 初始化渲染或更新渲染调用
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>componentDidMount(): 开启监听, 发送ajax请求
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>componentWillUnmount(): 做一些收尾工作, 如: 清理定时器
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>static getDerivedStateFromProps(): state是根据props来生成的那就需要借助这个函数
</code></pre></div></li></ol> <h2 id="_2-7-虚拟dom与dom-diff算法"><a href="#_2-7-虚拟dom与dom-diff算法" class="header-anchor">#</a> 2.7. 虚拟 DOM 与 DOM diff 算法</h2> <h3 id="_1-虚拟dom是什么"><a href="#_1-虚拟dom是什么" class="header-anchor">#</a> 1). 虚拟 DOM 是什么？</h3> <div class="language- extra-class"><pre><code>一个虚拟DOM(元素)是一个一般的js对象, 准确的说是一个对象树(倒立的)
虚拟DOM保存了真实DOM的层次关系和一些基本属性，与真实DOM一一对应
如果只是更新虚拟DOM, 页面是不会重绘的
</code></pre></div><h3 id="_2-虚拟dom-算法的基本步骤"><a href="#_2-虚拟dom-算法的基本步骤" class="header-anchor">#</a> 2). 虚拟 DOM 算法的基本步骤</h3> <div class="language- extra-class"><pre><code>用JS对象树表示DOM树的结构；然后用这个树构建一个真正的DOM树插到文档当中
当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记录两棵树差异
把差异应用到真实DOM树上，视图就更新了
</code></pre></div><h3 id="_3-进一步理解"><a href="#_3-进一步理解" class="header-anchor">#</a> 3). 进一步理解</h3> <div class="language- extra-class"><pre><code>Virtual DOM 本质上就是在 JS 和 DOM 之间做了一个缓存。
可以类比 CPU 和硬盘，既然硬盘这么慢，我们就在它们之间加个缓存：既然 DOM 这么慢，我们就在它们 JS 和 DOM 之间加个缓存。CPU（JS）只操作内存（Virtual DOM），最后的时候再把变更写入硬盘（DOM）。
</code></pre></div><h1 id="第3章-react应用-基于react脚手架"><a href="#第3章-react应用-基于react脚手架" class="header-anchor">#</a> 第 3 章：react 应用 (基于 react 脚手架)</h1> <h2 id="_3-1-使用create-react-app创建react应用"><a href="#_3-1-使用create-react-app创建react应用" class="header-anchor">#</a> 3.1. 使用 create-react-app 创建 react 应用</h2> <h3 id="_3-1-1-react脚手架"><a href="#_3-1-1-react脚手架" class="header-anchor">#</a> 3.1.1. react 脚手架</h3> <ol><li><div class="language- extra-class"><pre><code>xxx脚手架: 用来帮助程序员快速创建一个基于xxx库的模板项目
</code></pre></div></li></ol> <p>a.     包含了所有需要的配置</p> <p>b.     指定好了所有的依赖</p> <p>c.     可以直接安装 / 编译 / 运行一个简单效果</p> <ol start="2"><li><div class="language- extra-class"><pre><code>react提供了一个用于创建react项目的脚手架库: create-react-app
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>项目的整体技术架构为: react + webpack + es6 + eslint
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>使用脚手架开发的项目的特点: 模块化, 组件化, 工程化
</code></pre></div></li></ol> <h3 id="_3-1-2-创建项目并启动"><a href="#_3-1-2-创建项目并启动" class="header-anchor">#</a> 3.1.2. 创建项目并启动</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>npm install <span class="token operator">-</span>g create<span class="token operator">-</span>react<span class="token operator">-</span>app		<span class="token comment">//全局下载react脚手架</span>

create<span class="token operator">-</span>react<span class="token operator">-</span>app hello<span class="token operator">-</span>react		<span class="token comment">//创建react项目，hello-react为项目名</span>

cd hello<span class="token operator">-</span>react						<span class="token comment">//切换到项目目录</span>

npm start							<span class="token comment">//运行项目</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_3-1-3-react脚手架项目结构"><a href="#_3-1-3-react脚手架项目结构" class="header-anchor">#</a> 3.1.3. react 脚手架项目结构</h3> <p>ReactNews</p> <p>|--node_modules--- 第三方依赖模块文件夹</p> <p>|--public</p> <p><em>|--</em> *index.html-----------------*<em> 主页面</em></p> <p>|--src------------ 源码文件夹</p> <p><em>|--components-----------------react** 组件</em></p> <p><em>|--index.js-------------------<strong> 应用入口</strong> js</em></p> <p>|--.gitignore------git 版本管制忽略的配置</p> <p>|--package.json---- 应用包配置文件</p> <p>|--README.md------- 应用描述说明的 readme 文件</p> <h1 id="第4章-react-ajax"><a href="#第4章-react-ajax" class="header-anchor">#</a> 第 4 章：react ajax</h1> <h2 id="_4-1-理解"><a href="#_4-1-理解" class="header-anchor">#</a> 4.1. 理解</h2> <h3 id="_4-1-1-前置说明"><a href="#_4-1-1-前置说明" class="header-anchor">#</a> 4.1.1. 前置说明</h3> <ol><li><div class="language- extra-class"><pre><code>React本身只关注于界面, 并不包含发送ajax请求的代码
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>前端应用需要通过ajax请求与后台进行交互(json数据)
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>react应用中需要集成第三方ajax库(或自己封装)
</code></pre></div></li></ol> <h3 id="_4-1-2-常用的ajax请求库"><a href="#_4-1-2-常用的ajax请求库" class="header-anchor">#</a> 4.1.2. 常用的 ajax 请求库</h3> <ol><li><div class="language- extra-class"><pre><code>jQuery: 比较重, 如果需要另外引入不建议使用
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>axios: 轻量级, 建议使用
</code></pre></div></li></ol> <p>a.     封装 XmlHttpRequest 对象的 ajax</p> <p>b.     promise 风格</p> <p>c.     可以用在浏览器端和 node 服务器端</p> <ol start="3"><li><div class="language- extra-class"><pre><code>fetch: 原生函数, 但老版本浏览器不支持
</code></pre></div></li></ol> <p>a.     不再使用 XmlHttpRequest 对象提交 ajax 请求</p> <p>b.     为了兼容低版本的浏览器，可以引入兼容库 fetch.js</p> <h3 id="_4-1-3-效果"><a href="#_4-1-3-效果" class="header-anchor">#</a> 4.1.3. 效果</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>需求:
  1. 界面效果如下
  2. 根据指定的关键字在github上搜索匹配的最受关注的库
  3. 显示库名, 点击链接查看库
4. 测试接口: https://api.github.com/search/repositories?q=r&amp;sort=stars

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_4-2-axios"><a href="#_4-2-axios" class="header-anchor">#</a> 4.2. axios</h2> <h3 id="_4-2-1-文档"><a href="#_4-2-1-文档" class="header-anchor">#</a> 4.2.1. 文档</h3> <p>https://github.com/axios/axios</p> <h3 id="_4-2-2-相关api"><a href="#_4-2-2-相关api" class="header-anchor">#</a> 4.2.2. 相关 API</h3> <ol><li><div class="language- extra-class"><pre><code>GET请求
</code></pre></div></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>axios
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/user?ID=12345&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
axios
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token constant">ID</span><span class="token operator">:</span> <span class="token number">12345</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ol start="2"><li><div class="language- extra-class"><pre><code>POST请求
</code></pre></div></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>axios
<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&quot;Fred&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">&quot;Flintstone&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_4-3-fetch"><a href="#_4-3-fetch" class="header-anchor">#</a> 4.3. Fetch</h2> <h3 id="_4-3-1-文档"><a href="#_4-3-1-文档" class="header-anchor">#</a> 4.3.1. 文档</h3> <ol><li><div class="language- extra-class"><pre><code>https://github.github.io/fetch/
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>https://segmentfault.com/a/1190000003810652
</code></pre></div></li></ol> <h3 id="_4-3-2-相关api"><a href="#_4-3-2-相关api" class="header-anchor">#</a> 4.3.2. 相关 API</h3> <ol><li><div class="language- extra-class"><pre><code>GET请求
</code></pre></div></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//返回一个promise实例对象，状态为&lt;pending&gt;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//成功</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//失败</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="2"><li><div class="language- extra-class"><pre><code>POST请求
</code></pre></div></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//返回一个promise实例对象，状态为&lt;pending&gt;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//成功</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//失败</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="3"><li><div class="language- extra-class"><pre><code>fetch的问题
</code></pre></div></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">url</span><span class="token operator">:</span>  https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>api<span class="token punctuation">.</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>search<span class="token operator">/</span>repositories
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//在此方法中如果https://api.github.com有错误，调用catch,但是search/repositories有错误，则调用的是then,显然不能得到数据。解决方案：自己简单对response进行封装</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="第5章-几个重要技术总结"><a href="#第5章-几个重要技术总结" class="header-anchor">#</a> 第 5 章：几个重要技术总结</h1> <h2 id="_5-1-组件间通信"><a href="#_5-1-组件间通信" class="header-anchor">#</a> 5.1. 组件间通信</h2> <h3 id="_5-1-1-方式一-通过props传递"><a href="#_5-1-1-方式一-通过props传递" class="header-anchor">#</a> 5.1.1. 方式一：通过 props 传递</h3> <ol><li><div class="language- extra-class"><pre><code>共同的数据放在父组件上, 特有的数据放在自己组件内部(state)
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>通过props可以传递一般属性和函数属性, 只能一层一层传递
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>一般属性--&gt;父组件传递数据给子组件--&gt;子组件读取数据
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>函数属性--&gt;子组件传递数据给父组件--&gt;子组件调用函数
</code></pre></div></li></ol> <h3 id="_5-1-2-方式二-使用消息订阅-subscribe-发布-publish-机制"><a href="#_5-1-2-方式二-使用消息订阅-subscribe-发布-publish-机制" class="header-anchor">#</a> 5.1.2. 方式二：使用消息订阅 (subscribe)- 发布 (publish) 机制</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1</span><span class="token punctuation">)</span>     工具库<span class="token operator">:</span> PubSubJS

<span class="token number">2</span><span class="token punctuation">)</span>     下载<span class="token operator">:</span> npm install pubsub<span class="token operator">-</span>js 

<span class="token number">3</span><span class="token punctuation">)</span>     使用<span class="token operator">:</span> 

   <span class="token keyword">import</span> PubSub <span class="token keyword">from</span> <span class="token string">'pubsub-js'</span> <span class="token comment">//引入</span>

   PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'delete'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//订阅消息,一般放在钩子里，delete是标识，与发布相匹配，data是真正数据</span>

   PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'delete'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token comment">//发布消息，data是发布的数据，与上面的相对应</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>示例代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//List组件,订阅消息</span>
<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        Pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token comment">//Add组件，发布消息</span>
Pubsub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
          <span class="token literal-property property">users</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">isFirst</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token literal-property property">isLoading</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">error</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_5-1-3-方式三-redux"><a href="#_5-1-3-方式三-redux" class="header-anchor">#</a> 5.1.3. 方式三: redux</h3> <p>后面专门讲解</p> <h3 id="_5-1-4-面试题-比较react中组件间3种通信方式"><a href="#_5-1-4-面试题-比较react中组件间3种通信方式" class="header-anchor">#</a> 5.1.4. 面试题：比较 react 中组件间 3 种通信方式</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>*1).* *方式一**:* *通过**props**传递   通过**props**可以传递一般数据和函数数据**,  *  *一般数据**--&gt;**父组件向子组件   函数数据**--&gt;**子组件向父组件通信   缺点**:* *只能一层一层传递**/**兄弟组件必须借助父组件 *  *2).* *方式二**:* *使用消息订阅**(subscribe)-**发布**(publish)**机制   实现库**: pubsub-js *  *组件**A:* *发布消息**(**相当于触发事件**) *  *组件**B:* *订阅消息**,* *接收消息**,* *处理消息**(**相当于绑定事件监听**) *  *优点**:* *对组件关系没有限制 *  *3).* *方式三**: redux *  *通过**redux**可以实现任意组件间的通信   集中式管理多个组件共享的状态**,* *而**pubsub-js**并不是集中式的管理*
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_5-2-事件监听理解"><a href="#_5-2-事件监听理解" class="header-anchor">#</a> 5.2. 事件监听理解</h2> <h3 id="_5-2-1-原生dom事件"><a href="#_5-2-1-原生dom事件" class="header-anchor">#</a> 5.2.1. 原生 DOM 事件</h3> <ol><li><div class="language- extra-class"><pre><code>绑定事件监听 
</code></pre></div></li></ol> <p>a.     目标元素</p> <p>b.     事件名 (类型): 只有有限的几个，不能随便写</p> <p>c.     回调函数：接收数据并处理</p> <ol start="2"><li><div class="language- extra-class"><pre><code>    触发事件
</code></pre></div></li></ol> <p>a.     用户操作界面</p> <p>b.     事件名 (类型)</p> <p>c.     数据 (event)</p> <h3 id="_5-2-2-自定义事件-消息机制"><a href="#_5-2-2-自定义事件-消息机制" class="header-anchor">#</a> 5.2.2. 自定义事件 (消息机制)</h3> <ol><li><div class="language- extra-class"><pre><code>绑定事件监听(订阅消息)
</code></pre></div></li></ol> <p>a.     目标元素</p> <p>b.     事件名 (类型): 任意</p> <p>c.     回调函数：通过形参接收数据，在函数体处理事件</p> <ol start="2"><li><div class="language- extra-class"><pre><code>触发事件(编码, 发布消息)
</code></pre></div></li></ol> <p>a.     (事件名类型): 与绑定的事件监听的事件名一致</p> <p>b.     数据：会自动传递给回调函数</p> <h2 id="_5-3-es6常用新语法"><a href="#_5-3-es6常用新语法" class="header-anchor">#</a> 5.3. ES6 常用新语法</h2> <ol><li><div class="language- extra-class"><pre><code>定义常量/变量: const/let
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>解构赋值: let {a, b} = this.props  import {aa} from 'xxx' function fn({name}) {} fn({name: ‘tom’})
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>对象的简洁表达: {a, b}
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>箭头函数: 
</code></pre></div></li></ol> <p>a.     常用场景</p> <p>* 组件的自定义方法: xxx = () =&gt; {}</p> <p>* 参数匿名函数</p> <p>b.     优点:</p> <p>​          * 简洁</p> <p>​          * 没有自己的 this, 使用引用 this 查找的是外部 this</p> <ol start="5"><li><div class="language- extra-class"><pre><code>扩展(三点)运算符: 拆解对象(const MyProps = {}, &lt;Xxx {...MyProps}&gt;)
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>类: class/extends/constructor/super
</code></pre></div></li> <li><p>ES6 模块化: export default | import</p></li> <li><p>promise</p></li> <li><p>async/await</p></li></ol> <h1 id="第6章-react-router4"><a href="#第6章-react-router4" class="header-anchor">#</a> 第 6 章：react-router4</h1> <h2 id="_6-1-相关理解"><a href="#_6-1-相关理解" class="header-anchor">#</a> 6.1. 相关理解</h2> <h3 id="_6-1-1-react-router-dom的理解"><a href="#_6-1-1-react-router-dom的理解" class="header-anchor">#</a> 6.1.1. react-router-dom 的理解</h3> <ol><li><div class="language- extra-class"><pre><code>	react的一个插件库
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    专门用来实现一个SPA应用
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    基于react的项目基本都会用到此库
</code></pre></div></li></ol> <h3 id="_6-1-2-spa的理解"><a href="#_6-1-2-spa的理解" class="header-anchor">#</a> 6.1.2. SPA 的理解</h3> <ol><li><div class="language- extra-class"><pre><code>	单页Web应用（single page web application，SPA）
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    整个应用只有一个完整的页面
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    点击页面中的链接不会刷新页面, 本身也不会向服务器发请求
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    当点击路由链接时, 只会做页面的局部更新
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    数据都需要通过ajax请求获取, 并在前端异步展现
</code></pre></div></li></ol> <h3 id="_6-1-3-路由的理解"><a href="#_6-1-3-路由的理解" class="header-anchor">#</a> 6.1.3. 路由的理解</h3> <ol><li><div class="language- extra-class"><pre><code>什么是路由?
</code></pre></div></li></ol> <p>a.     一个路由就是一个映射关系 (key:value)</p> <p>b.     key 为路由路径，value 可能是 function/component</p> <ol start="2"><li><div class="language- extra-class"><pre><code>路由分类
</code></pre></div></li></ol> <p>a.     后台路由: node 服务器端路由，value 是 function, 用来处理客户端提交的请求并返回一个响应数据</p> <p>b.     前台路由：浏览器端路由，value 是 component, 当请求的是路由 path 时，浏览器端前没有发送 http 请求，但界面会更新显示对应的组件</p> <ol start="3"><li><div class="language- extra-class"><pre><code>后台路由
</code></pre></div></li></ol> <p>a.     注册路由: router.get (path, function (req, res))</p> <p>b.     当 node 接收到一个请求时，根据请求路径找到匹配的路由，调用路由中的函数来处理请求，返回响应数据</p> <ol start="4"><li><div class="language- extra-class"><pre><code>    前端路由
</code></pre></div></li></ol> <p>a.     注册路由: <Route path="/about" component="{About}"></Route></p> <p>b.     当浏览器的 hash 变为 /about 时，当前路由组件就会变为 About 组件</p> <h3 id="_6-1-4-前端路由的实现"><a href="#_6-1-4-前端路由的实现" class="header-anchor">#</a> 6.1.4. 前端路由的实现</h3> <ol><li><div class="language- extra-class"><pre><code>history库
</code></pre></div></li></ol> <p>a.     网址: https://github.com/ReactTraining/history</p> <p>b.     管理浏览器会话历史 (history) 的工具库</p> <p>c.     包装的是原生 BOM 中 window.history 和 window.location.hash</p> <ol start="2"><li><div class="language- extra-class"><pre><code>history API
</code></pre></div></li></ol> <p>a.     History.createBrowserHistory (): 得到封装 window.history 的管理对象</p> <p>b.     History.createHashHistory (): 得到封装 window.location.hash 的管理对象</p> <p>c.     history.push (): 添加一个新的历史记录</p> <p>d.     history.replace (): 用一个新的历史记录替换当前的记录</p> <p>e.     history.goBack (): 回退到上一个历史记录</p> <p>f.     history.goForword (): 前进到下一个历史记录</p> <p>g.     history.listen (function (location){}): 监视历史记录的变化</p> <h2 id="_6-2-react-router相关api"><a href="#_6-2-react-router相关api" class="header-anchor">#</a> 6.2. react-router 相关 API</h2> <h3 id="_6-2-1-组件"><a href="#_6-2-1-组件" class="header-anchor">#</a> 6.2.1. 组件</h3> <ol><li><div class="language- extra-class"><pre><code>&lt;BrowserRouter&gt;
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>&lt;HashRouter&gt;
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>&lt;Route&gt;
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>&lt;Redirect&gt;
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>&lt;Link&gt;
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>&lt;NavLink&gt;
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>&lt;Switch&gt;
</code></pre></div></li></ol> <h3 id="_6-2-2-其它"><a href="#_6-2-2-其它" class="header-anchor">#</a> 6.2.2. 其它</h3> <ol><li><div class="language- extra-class"><pre><code>history对象
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>match对象
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>withRouter函数
</code></pre></div></li></ol> <h2 id="_6-3-基本路由使用"><a href="#_6-3-基本路由使用" class="header-anchor">#</a> 6.3. 基本路由使用</h2> <h3 id="_6-3-1-准备"><a href="#_6-3-1-准备" class="header-anchor">#</a> 6.3.1. 准备</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add react-router-dom		// 下载react-router-dom 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_6-3-2-路由组件-pages-about-jsx"><a href="#_6-3-2-路由组件-pages-about-jsx" class="header-anchor">#</a> 6.3.2. 路由组件: pages/about.jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">About</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">我是About的内容</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">export</span> <span class="token keyword">default</span> About<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_6-3-3-路由组件-pages-home-jsx"><a href="#_6-3-3-路由组件-pages-home-jsx" class="header-anchor">#</a> 6.3.3. 路由组件: pages/home.jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">我是Home的内容</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">export</span> <span class="token keyword">default</span> Home<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_6-3-4-browserrouter"><a href="#_6-3-4-browserrouter" class="header-anchor">#</a> 6.3.4.BrowserRouter</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>BrowserRouter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BrowserRouter</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">BrowserRouter</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">//需要在index.js里面的App组件外面加上BrowserRouter才能使得NavLink生效</span>
<span class="token literal-property property">注意</span><span class="token operator">:</span>在引入要样式时不要前面的点或者写成<span class="token operator">%</span><span class="token constant">PUBLIC_URL</span><span class="token operator">%</span>这样形式的
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>%PUBLIC_URL%/bootstrap.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_6-3-5-应用组件-app-jsx"><a href="#_6-3-5-应用组件-app-jsx" class="header-anchor">#</a> 6.3.5. 应用组件:app.jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>  NavLink<span class="token punctuation">,</span> Redirect<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'./pages/about'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'./pages/home'</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-group-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>demo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">About</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-group-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>demo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Home</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">//NavLink为路由链接，to是跳转到地方，前面需要加/</span>
<span class="token comment">//activeClassName是选中时的样式</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Route</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Route</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Redirect</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">//Switch是避免路由一直匹配，当匹配到路由时就停止</span>
<span class="token comment">//Route是路由，path是匹配的路由路径</span>
<span class="token comment">//Redirect是重定向，当不指定路由是时，默认的为Redirect</span>
<span class="token comment">//component={About}引入组件的另一种方式</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_6-3-6-自定义样式-index-css"><a href="#_6-3-6-自定义样式-index-css" class="header-anchor">#</a> 6.3.6. 自定义样式: index.css</h3> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.demo</span> <span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> gray <span class="token important">!important</span><span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> orange <span class="token important">!important</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_6-4-嵌套路由使用"><a href="#_6-4-嵌套路由使用" class="header-anchor">#</a> 6.4. 嵌套路由使用</h2> <h3 id="_6-4-2-二级路由组件-pages-news-jsx"><a href="#_6-4-2-二级路由组件-pages-news-jsx" class="header-anchor">#</a> 6.4.2. 二级路由组件: pages/news.jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">HomeNews</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">news001</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">news002</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">news003</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> HomeNews<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_6-4-3-二级路由组件-pages-message-jsx"><a href="#_6-4-3-二级路由组件-pages-message-jsx" class="header-anchor">#</a> 6.4.3. 二级路由组件: pages/message.jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">HomeMessage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">replace查看</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> HomeMessage<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_6-4-4-一级路由组件-pages-home-jsx"><a href="#_6-4-4-一级路由组件-pages-home-jsx" class="header-anchor">#</a> 6.4.4. 一级路由组件: pages/home.jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NavLink<span class="token punctuation">,</span> Redirect<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HomeNews <span class="token keyword">from</span> <span class="token string">'./home_news'</span>
<span class="token keyword">import</span> HomeMessage <span class="token keyword">from</span> <span class="token string">'./home_message'</span>
<span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Home组件内容</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav nav-tabs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-group-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/news<span class="token punctuation">&quot;</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">News</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-group-item <span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message<span class="token punctuation">&quot;</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Message</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/news<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>HomeNews<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Route</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>HomeMessage<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Route</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/news<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Redirect</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Home<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="_6-5-向路由组件传递参数数据"><a href="#_6-5-向路由组件传递参数数据" class="header-anchor">#</a> 6.5. 向路由组件传递参数数据</h2> <h3 id="_6-5-1-三级路由组件-pages-home-message-detail-jsx"><a href="#_6-5-1-三级路由组件-pages-home-message-detail-jsx" class="header-anchor">#</a> 6.5.1. 三级路由组件: pages/home-message-detail.jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HomeMessageDetail</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">messageDetail</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'消息1'</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'内容1'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'消息2'</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'内容2'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'消息3'</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'内容3'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// console.log('我是hmd的实例',this.props.match.params);</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params
        <span class="token comment">//通过组件实例对象this.props.match.params上取得参数（id）</span>
        <span class="token comment">//注意：通过实例取得的参数是字符串，需要转换为Number类型与之匹配</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span> messageDetail <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
        <span class="token keyword">let</span> obj <span class="token operator">=</span> messageDetail<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> id <span class="token operator">*</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">id:</span><span class="token punctuation">{</span>obj<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">title:</span><span class="token punctuation">{</span>obj<span class="token punctuation">.</span>til<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">content:</span><span class="token punctuation">{</span>obj<span class="token punctuation">.</span>content<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">没有消息</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="_6-5-2-二级路由组件-pages-home-message-jsx"><a href="#_6-5-2-二级路由组件-pages-home-message-jsx" class="header-anchor">#</a> 6.5.2. 二级路由组件: pages/home-message.jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span>
<span class="token keyword">import</span> HomeMessageDetail <span class="token keyword">from</span> <span class="token string">'./home_message_detail'</span>
<span class="token keyword">class</span> <span class="token class-name">HomeMessage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;message1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;message2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;message3&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">let</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>message<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/home/message/detail/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                   //在/home/message/detail/后面传递参数
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token plain-text">

        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message/detail/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>HomeMessageDetail<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Route</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            //在/home/message/detail/后面通过占位符接收参数（一般为id）
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> HomeMessage<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h2 id="_6-6-多种路由跳转方式"><a href="#_6-6-多种路由跳转方式" class="header-anchor">#</a> 6.6. 多种路由跳转方式</h2> <h3 id="_6-6-1-二级路由-views-message-jsx"><a href="#_6-6-1-二级路由-views-message-jsx" class="header-anchor">#</a> 6.6.1. 二级路由: views/message.jsx</h3> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span>
<span class="token keyword">import</span> HomeMessageDetail <span class="token keyword">from</span> <span class="token string">'./home_message_detail'</span>
<span class="token keyword">class</span> <span class="token class-name">HomeMessage</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;message1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;message2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;message3&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
  <span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/home/message/detail/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">replace</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/home/message/detail/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">let</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>message<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/home/message/detail/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">push</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">replace</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				//通过button方式跳转路由，原理就是借助History库通过改变改变地址栏中的url来实现
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token plain-text">

        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message/detail/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>HomeMessageDetail<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Route</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> HomeMessage<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h1 id="第7章-react-ui组件库"><a href="#第7章-react-ui组件库" class="header-anchor">#</a> 第 7 章：react UI 组件库</h1> <h2 id="_7-1-最流行的开源react-ui组件库"><a href="#_7-1-最流行的开源react-ui组件库" class="header-anchor">#</a> 7.1. 最流行的开源 React UI 组件库</h2> <h3 id="_7-1-1-material-ui-国外"><a href="#_7-1-1-material-ui-国外" class="header-anchor">#</a> 7.1.1. material-ui (国外)</h3> <ol><li><div class="language- extra-class"><pre><code>    官网: http://www.material-ui.com/#/
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    github: https://github.com/callemall/material-ui
</code></pre></div></li></ol> <h3 id="_7-1-2-ant-design-国内蚂蚁金服"><a href="#_7-1-2-ant-design-国内蚂蚁金服" class="header-anchor">#</a> 7.1.2. ant-design (国内蚂蚁金服)</h3> <ol><li><div class="language- extra-class"><pre><code>    PC官网: https://ant.design/index-cn
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>移动官网: https://mobile.ant.design/index-cn
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    Github: https://github.com/ant-design/ant-design/
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>Github: https://github.com/ant-design/ant-design-mobile/
</code></pre></div></li></ol> <h2 id="_7-2-ant-design使用入门"><a href="#_7-2-ant-design使用入门" class="header-anchor">#</a> 7.2. ant-design 使用入门</h2> <h3 id="_1-引入antd"><a href="#_1-引入antd" class="header-anchor">#</a> 1. 引入 antd</h3> <p>参考文档:</p> <p>https://ant.design/docs/react/use-with-create-react-app-cn</p> <h3 id="_2-下载组件库包"><a href="#_2-下载组件库包" class="header-anchor">#</a> 2. 下载组件库包</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add antd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_3-实现组件的按需打包"><a href="#_3-实现组件的按需打包" class="header-anchor">#</a> 3. 实现组件的按需打包</h3> <ol><li>下载依赖模块</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add react-app-rewired customize-cra babel-plugin-import
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>在根目录下创建加载配置的 js 模块: config-overrides.js</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>override<span class="token punctuation">,</span> fixBabelImports<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'customize-cra'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>
  <span class="token function">fixBabelImports</span><span class="token punctuation">(</span><span class="token string">'import'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">libraryName</span><span class="token operator">:</span> <span class="token string">'antd'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">libraryDirectory</span><span class="token operator">:</span> <span class="token string">'es'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token string">'css'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>3） 修改配置: package.json</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired start&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired build&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired test&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;eject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts eject&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_4-自定义antd主题"><a href="#_4-自定义antd主题" class="header-anchor">#</a> 4. 自定义 antd 主题</h3> <ol><li>下载工具包:</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add less@3.9.0 less-loader@4.1.0		//less版本和less-loader需要匹配
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>修改 config-overrides.js</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>override<span class="token punctuation">,</span> fixBabelImports<span class="token punctuation">,</span> addLessLoader<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'customize-cra'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>
  <span class="token function">fixBabelImports</span><span class="token punctuation">(</span><span class="token string">'import'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">libraryName</span><span class="token operator">:</span> <span class="token string">'antd'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">libraryDirectory</span><span class="token operator">:</span> <span class="token string">'es'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">addLessLoader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">javascriptEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">modifyVars</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">'@primary-color'</span><span class="token operator">:</span> <span class="token string">'#1DA57A'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_5-在应用组件中使用antd"><a href="#_5-在应用组件中使用antd" class="header-anchor">#</a> 5. 在应用组件中使用 antd</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        App
        <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span><span class="token operator">&gt;</span>Button<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h1 id="第8章-redux"><a href="#第8章-redux" class="header-anchor">#</a> 第 8 章 Redux</h1> <h2 id="_8-1-redux理解"><a href="#_8-1-redux理解" class="header-anchor">#</a> 8.1. redux 理解</h2> <h3 id="_8-1-1-学习文档"><a href="#_8-1-1-学习文档" class="header-anchor">#</a> 8.1.1. 学习文档</h3> <ol><li><div class="language- extra-class"><pre><code>英文文档: https://redux.js.org/
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>中文文档: http://www.redux.org.cn/
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>Github: https://github.com/reactjs/redux
</code></pre></div></li></ol> <h3 id="_8-1-2-redux是什么"><a href="#_8-1-2-redux是什么" class="header-anchor">#</a> 8.1.2. redux 是什么？</h3> <ol><li><div class="language- extra-class"><pre><code>redux是一个独立专门用于做状态管理的JS库(不是react插件库)
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>它可以用在react, angular, vue等项目中, 但基本与react配合使用
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>作用: 集中式管理(读/写)react应用中多个组件共享的状态
</code></pre></div></li></ol> <h3 id="_8-1-3-什么情况下需要使用redux"><a href="#_8-1-3-什么情况下需要使用redux" class="header-anchor">#</a> 8.1.3. 什么情况下需要使用 redux</h3> <ol><li><div class="language- extra-class"><pre><code>总体原则: 能不用就不用, 如果不用比较吃力才考虑使用
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    某个组件的状态，需要共享
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    某个状态需要在任何地方都可以拿到
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    一个组件需要改变全局状态
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>    一个组件需要改变另一个组件的状态
</code></pre></div></li></ol> <h2 id="_8-2-redux的核心api"><a href="#_8-2-redux的核心api" class="header-anchor">#</a> 8.2. redux 的核心 API</h2> <h3 id="_8-2-1-createstore"><a href="#_8-2-1-createstore" class="header-anchor">#</a> 8.2.1. createStore()</h3> <ol><li><div class="language- extra-class"><pre><code>作用: 
</code></pre></div></li></ol> <p>创建包含指定 reducer 的 store 对象</p> <ol start="2"><li><div class="language- extra-class"><pre><code>编码:
</code></pre></div></li></ol> <p>import {createStore} from 'redux'</p> <p>import counter from './reducers/counter'</p> <p>const store = createStore(counter)</p> <h3 id="_8-2-2-store对象"><a href="#_8-2-2-store对象" class="header-anchor">#</a> 8.2.2. store 对象</h3> <ol><li><div class="language- extra-class"><pre><code>作用: 
</code></pre></div></li></ol> <p>redux 库最核心的管理对象</p> <ol start="2"><li><div class="language- extra-class"><pre><code>它内部维护着:
</code></pre></div></li></ol> <p>​          state</p> <p>​          reducer</p> <ol start="3"><li><div class="language- extra-class"><pre><code>核心方法:
</code></pre></div></li></ol> <p>​          getState()</p> <p>​          dispatch(action)</p> <p>​          subscribe(listener)</p> <ol start="4"><li><div class="language- extra-class"><pre><code>编码:
</code></pre></div></li></ol> <p>​          store.getState()</p> <p>​          store.dispatch({type:'INCREMENT', number})</p> <p>​          store.subscribe(render)</p> <h3 id="_8-2-3-applymiddleware"><a href="#_8-2-3-applymiddleware" class="header-anchor">#</a> 8.2.3. applyMiddleware()</h3> <ol><li><div class="language- extra-class"><pre><code>作用:
</code></pre></div></li></ol> <p>应用上基于 redux 的中间件 (插件库)</p> <ol start="2"><li><div class="language- extra-class"><pre><code>编码:
</code></pre></div></li></ol> <p>import {createStore, applyMiddleware} from 'redux'</p> <p>import thunk from 'redux-thunk' //redux 异步中间件</p> <p>const store = createStore(</p> <p>counter,</p> <p>applyMiddleware (thunk) // 应用上异步中间件</p> <p>)</p> <h3 id="_8-2-4-combinereducers"><a href="#_8-2-4-combinereducers" class="header-anchor">#</a> 8.2.4. combineReducers()</h3> <ol><li><div class="language- extra-class"><pre><code>作用:
</code></pre></div></li></ol> <p>合并多个 reducer 函数</p> <ol start="2"><li><div class="language- extra-class"><pre><code>编码:
</code></pre></div></li></ol> <p>export default combineReducers({</p> <p>user,</p> <p>chatUser,</p> <p>chat</p> <p>})</p> <h2 id="_8-3-redux的三个核心概念"><a href="#_8-3-redux的三个核心概念" class="header-anchor">#</a> 8.3. redux 的三个核心概念</h2> <h3 id="_8-3-1-action"><a href="#_8-3-1-action" class="header-anchor">#</a> 8.3.1. action</h3> <ol><li><div class="language- extra-class"><pre><code>标识要执行行为的对象
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>包含2个方面的属性
</code></pre></div></li></ol> <p>a.     type: 标识属性，值为字符串，唯一，必要属性</p> <p>b.     xxx: 数据属性，值类型任意，可选属性</p> <ol start="3"><li><div class="language- extra-class"><pre><code>例子:
</code></pre></div></li></ol> <p>​          const action = {</p> <p>​              type: 'INCREMENT',</p> <p>​              data: 2</p> <p>​          }</p> <ol start="4"><li><div class="language- extra-class"><pre><code>Action Creator(创建Action的工厂函数)
</code></pre></div></li></ol> <p>​          const increment = (number) =&gt; ({type: 'INCREMENT', data: number})</p> <h3 id="_8-3-2-reducer"><a href="#_8-3-2-reducer" class="header-anchor">#</a> 8.3.2. reducer</h3> <ol><li><div class="language- extra-class"><pre><code>根据老的state和action, 产生新的state的纯函数
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>样例
</code></pre></div></li></ol> <p>​          export default function counter(state = 0, action) {</p> <p>​           switch (action.type) {</p> <p>​            case 'INCREMENT':</p> <p>​             return state + action.data</p> <p>​            case 'DECREMENT':</p> <p>​             return state - action.data</p> <p>​            default:</p> <p>​             return state</p> <p>​           }</p> <p>​          }</p> <ol start="3"><li><div class="language- extra-class"><pre><code>注意
</code></pre></div></li></ol> <p>a.     返回一个新的状态</p> <p>b.     不要修改原来的状态</p> <h3 id="_8-3-3-store"><a href="#_8-3-3-store" class="header-anchor">#</a> 8.3.3. store</h3> <ol><li><div class="language- extra-class"><pre><code>将state,action与reducer联系在一起的对象
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>如何得到此对象?
</code></pre></div></li></ol> <p>​          import {createStore} from 'redux'</p> <p>​          import reducer from './reducers'</p> <p>​          const store = createStore(reducer)</p> <ol start="3"><li><div class="language- extra-class"><pre><code>此对象的功能?
</code></pre></div></li></ol> <p>​          getState (): 得到 state</p> <p>​          dispatch (action): 分发 action, 触发 reducer 调用，产生新的 state</p> <p>​          subscribe (listener): 注册监听，当产生了新的 state 时，自动调用</p> <h2 id="_8-4-使用redux编写应用"><a href="#_8-4-使用redux编写应用" class="header-anchor">#</a> 8.4. 使用 redux 编写应用</h2> <h3 id="_8-4-1-效果"><a href="#_8-4-1-效果" class="header-anchor">#</a> 8.4.1. 效果</h3> <h3 id="_8-4-2-下载依赖包"><a href="#_8-4-2-下载依赖包" class="header-anchor">#</a> 8.4.2. 下载依赖包</h3> <p>npm install --save redux</p> <h3 id="_8-4-3-redux-action-types-js"><a href="#_8-4-3-redux-action-types-js" class="header-anchor">#</a> 8.4.3. redux/action_types.js</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>*/\* *  *a**ction**对象的**type**常量名称模块**  \*/ *  **export const** INCREMENT = **'increment' **  **export const** DECREMENT = **'decrement'**
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-4-4-redux-actions-creators-js"><a href="#_8-4-4-redux-actions-creators-js" class="header-anchor">#</a> 8.4.4. redux/actions_creators.js</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>*/\*  action creator**模块**  \*/ *  **import** {INCREMENT, DECREMENT} **from** **'./action-types'    **  **export const** *increment* = number =&gt; ({**type**: INCREMENT, number})  **export const** *decrement* = number =&gt; ({**type**: DECREMENT, number})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-4-5-redux-reducers-js"><a href="#_8-4-5-redux-reducers-js" class="header-anchor">#</a> 8.4.5. redux/reducers.js</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>*/\* *  *根据老的**state**和指定**action,* *处理返回一个新的**state  \*/ *  **import** {INCREMENT, DECREMENT} **from** **'../constants/ActionTypes'    **  **import** {INCREMENT, DECREMENT} **from** **'./action-types'    **  **export function** *counter*(state = 0, action) {  **console**.log(**'counter'**, state, action)  **switch** (action.**type**) {   **case** INCREMENT:    **return** state + action.**number **   **case** DECREMENT:    **return** state - action.**number **   **default**:    **return** state  } }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-4-6-components-app-jsx"><a href="#_8-4-6-components-app-jsx" class="header-anchor">#</a> 8.4.6. components/app.jsx</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>*/\* *  *应用组件**  \*/ *  **import** React, {Component} **from** **'react' **  **import** PropTypes **from** **'prop-types' **  **import** * **as** actions **from** **'../redux/actions'    **  **export default class** App **extends** Component {    **static** *propTypes* = {   **store**: PropTypes.*object*.isRequired,  }    *increment* = () =&gt; {   **const** number = **this**.**refs**.numSelect.**value** * 1   **this**.**props**.**store**.dispatch(actions.*increment*(number))  }    *decrement* = () =&gt; {   **const** number = **this**.**refs**.numSelect.**value** * 1   **this**.**props**.**store**.dispatch(actions.*decrement*(number))  }    *incrementIfOdd* = () =&gt; {   **const** number = **this**.**refs**.numSelect.**value** * 1     **let** count = **this**.**props**.**store**.getState()   **if** (count % 2 === 1) {    **this**.**props**.**store**.dispatch(actions.*increment*(number))   }  }    *incrementAsync* = () =&gt; {   **const** number = **this**.**refs**.numSelect.**value** * 1   setTimeout(() =&gt; {    **this**.**props**.**store**.dispatch(actions.*increment*(number))   }, 1000)  }    render() {   **return** (    &lt;**div**&gt;     &lt;**p**&gt;      click {**this**.**props**.**store**.getState()} times {**' '**}     &lt;/**p**&gt;     &lt;**select** **ref****=&quot;numSelect&quot;**&gt;      &lt;**option** **value****=&quot;1&quot;**&gt;1&lt;/**option**&gt;      &lt;**option** **value****=&quot;2&quot;**&gt;2&lt;/**option**&gt;      &lt;**option** **value****=&quot;3&quot;**&gt;3&lt;/**option**&gt;     &lt;/**select**&gt;{**' '**}     &lt;**button** **onClick****=**{**this**.*increment*}&gt;+&lt;/**button**&gt;     {**' '**}     &lt;**button** **onClick****=**{**this**.*decrement*}&gt;-&lt;/**button**&gt;     {**' '**}     &lt;**button** **onClick****=**{**this**.*incrementIfOdd*}&gt;increment if odd&lt;/**button**&gt;     {**' '**}     &lt;**button** **onClick****=**{**this**.*incrementAsync*}&gt;increment async&lt;/**button**&gt;    &lt;/**div**&gt;   )  } }`` 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-4-7-store-js"><a href="#_8-4-7-store-js" class="header-anchor">#</a> 8.4.7. store.js</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>**import** React **from** **'react' **  **import** ReactDOM **from** **'react-dom' **  **import** {createStore} **from** **'redux'    **  **import** App **from** **'./components/app' **  **import** {*counter*} **from** **'./redux/reducers'    **  *//* *根据**counter**函数创建**store**对象 *  **const** store = createStore(*counter*)    *//* *定义渲染根组件标签的函数 *  **const** *render* = () =&gt; {  ReactDOM.render(   &lt;**App** **store****=**{store}/&gt;,   **document**.getElementById(**'root'**)  ) }  *//* *初始化渲染 *  *render*()    *//* *注册**(**订阅**)**监听**,* *一旦状态发生改变**,* *自动重新渲染 *  store.subscribe(*render*)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-4-8-问题"><a href="#_8-4-8-问题" class="header-anchor">#</a> 8.4.8. 问题</h3> <ol><li><div class="language- extra-class"><pre><code>redux与react组件的代码耦合度太高
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>编码不够简洁
</code></pre></div></li></ol> <h2 id="_8-5-react-redux"><a href="#_8-5-react-redux" class="header-anchor">#</a> 8.5. react-redux</h2> <h3 id="_8-5-1-理解"><a href="#_8-5-1-理解" class="header-anchor">#</a> 8.5.1. 理解</h3> <ol><li><div class="language- extra-class"><pre><code>一个react插件库
</code></pre></div></li> <li><div class="language- extra-class"><pre><code>专门用来简化react应用中使用redux
</code></pre></div></li></ol> <h3 id="_8-5-2-react-redux将所有组件分成两大类"><a href="#_8-5-2-react-redux将所有组件分成两大类" class="header-anchor">#</a> 8.5.2. React-Redux 将所有组件分成两大类</h3> <ol><li><div class="language- extra-class"><pre><code>UI组件
</code></pre></div></li></ol> <p>a.     只负责 UI 的呈现，不带有任何业务逻辑</p> <p>b.     通过 props 接收数据 (一般数据和函数)</p> <p>c.     不使用任何 Redux 的 API</p> <p>d.     一般保存在 components 文件夹下</p> <ol start="2"><li><div class="language- extra-class"><pre><code>容器组件
</code></pre></div></li></ol> <p>a.     负责管理数据和业务逻辑，不负责 UI 的呈现</p> <p>b.     使用 Redux 的 API</p> <p>c.     一般保存在 containers 文件夹下</p> <h3 id="_8-5-3-相关api"><a href="#_8-5-3-相关api" class="header-anchor">#</a> 8.5.3. 相关 API</h3> <ol><li><div class="language- extra-class"><pre><code>Provider
</code></pre></div></li></ol> <p>让所有组件都可以得到 state 数据</p> <Provider store="{store}"><App></App></Provider> <ol start="2"><li><div class="language- extra-class"><pre><code>connect()
</code></pre></div></li></ol> <p>用于包装 UI 组件生成容器组件</p> <p>import { connect } from 'react-redux'<br>
connect(<br>
mapStateToprops,<br>
mapDispatchToProps<br>
)(Counter)</p> <ol start="3"><li><div class="language- extra-class"><pre><code>mapStateToprops()
</code></pre></div></li></ol> <p>将外部的数据（即 state 对象）转换为 UI 组件的标签属性<br>
 const mapStateToprops = function (state) {<br>
return {<br>
value: state<br>
}<br>
}</p> <ol start="4"><li><div class="language- extra-class"><pre><code>mapDispatchToProps()
</code></pre></div></li></ol> <p>将分发 action 的函数转换为 UI 组件的标签属性</p> <p>简洁语法可以直接指定为 actions 对象或包含多个 action 方法的对象</p> <h3 id="_8-5-4-使用react-redux"><a href="#_8-5-4-使用react-redux" class="header-anchor">#</a> 8.5.4. 使用 react-redux</h3> <ol><li><div class="language- extra-class"><pre><code>下载依赖包
</code></pre></div></li></ol> <p>npm install --save react-redux</p> <ol start="2"><li><div class="language- extra-class"><pre><code>redux/action_types.js
</code></pre></div></li></ol> <p>不变</p> <ol start="3"><li><div class="language- extra-class"><pre><code>redux/actions_creators.js
</code></pre></div></li></ol> <p>不变</p> <ol start="4"><li><div class="language- extra-class"><pre><code>redux/reducers.js
</code></pre></div></li></ol> <p>不变</p> <ol start="5"><li><div class="language- extra-class"><pre><code>components/counter.jsx
</code></pre></div></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>*/\*  UI**组件**:* *不包含任何**redux API  \*/ *  **import** React **from** **'react' **  **import** PropTypes **from** **'prop-types'    **  **export default class** Counter **extends** React.Component {    **static** *propTypes* = {   **count**: PropTypes.*number*.isRequired,   **increment**: PropTypes.*func*.isRequired,   **decrement**: PropTypes.*func*.isRequired  }    *increment* = () =&gt; {   **const** number = **this**.**refs**.numSelect.**value** * 1   **this**.**props**.**increment**(number)  }    *decrement* = () =&gt; {   **const** number = **this**.**refs**.numSelect.**value** * 1   **this**.**props**.**decrement**(number)  }    *incrementIfOdd* = () =&gt; {   **const** number = **this**.**refs**.numSelect.**value** * 1   **let** count = **this**.**props**.**count **   **if** (count % 2 === 1) {    **this**.**props**.**increment**(number)   }  }    *incrementAsync* = () =&gt; {   **const** number = **this**.**refs**.numSelect.**value** * 1   setTimeout(() =&gt; {    **this**.**props**.**increment**(number)   }, 1000)  }    render() {   **return** (    &lt;**div**&gt;     &lt;**p**&gt;      click {**this**.**props**.**count**} times {**' '**}     &lt;/**p**&gt;     &lt;**select** **ref****=&quot;numSelect&quot;**&gt;      &lt;**option** **value****=&quot;1&quot;**&gt;1&lt;/**option**&gt;      &lt;**option** **value****=&quot;2&quot;**&gt;2&lt;/**option**&gt;      &lt;**option** **value****=&quot;3&quot;**&gt;3&lt;/**option**&gt;     &lt;/**select**&gt;{**' '**}     &lt;**button** **onClick****=**{**this**.*increment*}&gt;+&lt;/**button**&gt;     {**' '**}     &lt;**button** **onClick****=**{**this**.*decrement*}&gt;-&lt;/**button**&gt;     {**' '**}     &lt;**button** **onClick****=**{**this**.*incrementIfOdd*}&gt;increment if odd&lt;/**button**&gt;     {**' '**}     &lt;**button** **onClick****=**{**this**.*incrementAsync*}&gt;increment async&lt;/**button**&gt;    &lt;/**div**&gt;   )  } }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="6"><li><div class="language- extra-class"><pre><code>containters/App.jsx
</code></pre></div></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>*/\* *  *包含**Counter**组件的容器组件**  \*/ *  **import** React **from** **'react' **  *//* *引入连接函数 *  **import** {connect} **from** **'react-redux' **  *//* *引入**action**函数 *  **import** {*increment*, *decrement*} **from** **'../redux/actions'    **  **import** Counter **from** **'../components/counter'    **  *//* *向外暴露连接**App**组件的包装组件 *  **export default** connect(  state =&gt; ({**count**: state}),  {*increment*, *decrement*} )(Counter)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="7"><li><div class="language- extra-class"><pre><code>index.js
</code></pre></div></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>**import** React **from** **'react' **  **import** ReactDOM **from** **'react-dom' **  **import** {createStore} **from** **'redux' **  **import** {Provider} **from** **'react-redux'    **  **import** App **from** **'./****container****s/app' **  **import** {*counter*} **from** **'./redux/reducers'    **  *//* *根据**counter**函数创建**store**对象 *  **const** store = createStore(*counter*)    *//* *定义渲染根组件标签的函数 *  ReactDOM.render(  (   &lt;**Provider** **store****=**{store}&gt;    &lt;**App** /&gt;   &lt;/**Provider**&gt;  ),  **document**.getElementById(**'root'**)`` 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-5-5-问题"><a href="#_8-5-5-问题" class="header-anchor">#</a> 8.5.5. 问题</h3> <ol><li><p>redux 默认是不能进行异步处理的，</p></li> <li><p>应用中又需要在 redux 中执行异步任务 (ajax, 定时器)</p></li></ol> <h2 id="_8-6-redux异步编程"><a href="#_8-6-redux异步编程" class="header-anchor">#</a> 8.6. redux 异步编程</h2> <h3 id="_8-6-1-下载redux插件-异步中间件"><a href="#_8-6-1-下载redux插件-异步中间件" class="header-anchor">#</a> 8.6.1. 下载 redux 插件 (异步中间件)</h3> <p>npm install --save redux-thunk</p> <h3 id="_8-6-2-store-js"><a href="#_8-6-2-store-js" class="header-anchor">#</a> 8.6.2. store.js</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>**import** {createStore, *applyMiddleware*} **from** **'redux' **  **import** thunk **from 'redux-thunk'**** **  *//* *根据**reducer**函数创建**store**对象 *  **const** store = createStore(  *reducer*,  *applyMiddleware(thunk)* *//* *应用上异步中间件 *  )
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-6-3-redux-actions-js"><a href="#_8-6-3-redux-actions-js" class="header-anchor">#</a> 8.6.3. redux/actions.js</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>*//* *异步**action creator(**返回一个函数**) *  **export const** *incrementAsync* = number =&gt; {  **return** dispatch =&gt; {   setTimeout(() =&gt; {    dispatch(*increment*(number))   }, 1000)  } }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-6-4-components-counter-jsx"><a href="#_8-6-4-components-counter-jsx" class="header-anchor">#</a> 8.6.4. components/counter.jsx</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>*incrementAsync* = () =&gt; {  **const** number = **this**.**refs**.numSelect.**value***1  **this**.**props**.**incrementAsync**(number) }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-6-5-containers-app-jsx"><a href="#_8-6-5-containers-app-jsx" class="header-anchor">#</a> 8.6.5. containers/app.jsx</h3> <p><code>**import** {*increment*, *decrement*, *incrementAsync*} **from** **'../redux/actions'**</code> <em>//</em> * 向外暴露连接<strong> App</strong> 组件的包装组件 *  <strong>export default</strong> connect(    state =&gt; ({<strong>count</strong>: state}),    {<em>increment</em>,  <em>decrement</em>, <em>incrementAsync</em>}   )(Counter)</p> <h2 id="_8-7-使用上redux调试工具"><a href="#_8-7-使用上redux调试工具" class="header-anchor">#</a> 8.7. 使用上 redux 调试工具</h2> <h3 id="_8-7-1-安装chrome浏览器插件"><a href="#_8-7-1-安装chrome浏览器插件" class="header-anchor">#</a> 8.7.1. 安装 chrome 浏览器插件</h3> <h3 id="_8-7-2-下载工具依赖包"><a href="#_8-7-2-下载工具依赖包" class="header-anchor">#</a> 8.7.2. 下载工具依赖包</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install --save-dev redux-devtools-extension
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-7-3-编码"><a href="#_8-7-3-编码" class="header-anchor">#</a> 8.7.3. 编码</h3> <p><strong>Store.js</strong></p> <table><thead><tr><th><code>**import** { **composeWithDevTools** } **from** **'redux-devtools-extension'**``* * **const** store = createStore( *reducer*, **composeWithDevTools**(*applyMiddleware*(thunk)) * * )</code></th></tr></thead> <tbody><tr><td><code></code></td></tr></tbody></table> <h2 id="_8-8-相关重要知识-纯函数和高阶函数"><a href="#_8-8-相关重要知识-纯函数和高阶函数" class="header-anchor">#</a> 8.8. 相关重要知识：纯函数和高阶函数</h2> <h3 id="_8-8-1-纯函数"><a href="#_8-8-1-纯函数" class="header-anchor">#</a> 8.8.1. 纯函数</h3> <ol><li><p>一类特别的函数：只要是同样的输入 (实参)，必定得到同样的输出 (返回)</p></li> <li><p>必须遵守以下一些约束</p></li></ol> <p>a.  不得改写参数数据</p> <p>b.    不会产生任何副作用，例如网络请求，输入和输出设备</p> <p>c.    不能调用 Date.now () 或者 Math.random () 等不纯的方法</p> <ol start="3"><li>redux 的 reducer 函数必须是一个纯函数</li></ol> <h3 id="_8-8-2-高阶函数"><a href="#_8-8-2-高阶函数" class="header-anchor">#</a> 8.8.2. 高阶函数</h3> <ol start="4"><li><div class="language- extra-class"><pre><code>理解: 一类特别的函数
</code></pre></div></li></ol> <p>a.     情况 1: 参数是函数</p> <p>b.     情况 2: 返回是函数</p> <ol start="5"><li><div class="language- extra-class"><pre><code>    常见的高阶函数: 
</code></pre></div></li></ol> <p>a.     定时器设置函数</p> <p>b.     数组的 forEach ()/map ()/filter ()/reduce ()/find ()</p> <p>c.     函数对象的 bind ()</p> <p>d.     Promise() / then()</p> <p>e.     antd 中的 Form.create ()()</p> <p>f.     react-router-dom 中的 withRouter</p> <p>g.     react-redux 中的 connect ()</p> <ol start="6"><li><div class="language- extra-class"><pre><code>    作用: 
</code></pre></div></li></ol> <p>a.     能实现更加动态，更加可扩展的功能</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Takichange/edit/master/docs/views/views/01.前端/80.React/10.react.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=React" title="标签">#React</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">5/26/2022, 9:20:36 AM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/036dbb/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">webpack-yarn环境搭建</div></a> <a href="/pages/5e3b2f/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">vue</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/036dbb/" class="prev">webpack-yarn环境搭建</a></span> <span class="next"><a href="/pages/5e3b2f/">vue</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/a72718/"><div>
            前端常用设计模式
            <!----></div></a> <span class="date">04-01</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/423757/"><div>
            谷歌调试快捷键
            <!----></div></a> <span class="date">06-23</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/427ffd/"><div>
            JS设计模式
            <!----></div></a> <span class="date">06-02</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a title="QQ" target="_blank" class="iconfont icon-QQ"></a><a href="https://github.com/Takichange" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>
    </span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:5;" data-v-248d85d6></canvas></div><!----><div class="RibbonAnimation"></div></div></div>
    <script src="/assets/js/app.276c1dfb.js" defer></script><script src="/assets/js/11.c37d6593.js" defer></script><script src="/assets/js/33.aa0d455c.js" defer></script>
  </body>
</html>
